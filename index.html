<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV Interactif - Charles de Pirey</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <!-- Google tag (gtag.js) - REPLACE G-XXXXXXXXXX WITH YOUR ACTUAL GA4 MEASUREMENT ID -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-TSQ3NH218G"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-TSQ3NH218G'); // IMPORTANT: Replace with your GA4 Measurement ID
    </script>
    <!-- Chosen Palette: Calm Professional (Warm neutrals: off-white/beige, dark gray text, with a muted blue accent) -->
    <!-- Application Structure Plan: A non-linear, single-page dashboard with top navigation (Overview, Career Path, Skills, Contact). This structure transforms the static CV into an interactive portfolio, allowing users to explore content based on their interests (e.g., diving into specific skills or career stages) rather than just scrolling. It prioritizes user-driven exploration over a linear presentation. -->
    <!-- Visualization & Content Choices: Career Path -> Interactive Timeline (HTML/JS) to show progression, with clickable nodes to reveal details and filters to highlight specific expertise areas. Skills -> Radar Chart (Chart.js) for a high-level view of skill balance and interactive skill tags (HTML/JS) to cross-filter experiences, demonstrating the practical application of skills. Key Metrics -> KPI Cards (HTML/CSS) for immediate impact. This approach uses interaction to connect different parts of the CV, creating a cohesive narrative. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Lato', sans-serif;
            background-color: #F8F7F4; /* Light mode default */
            color: #333; /* Light mode default */
            margin: 0; /* Remove default body margin */
            scroll-behavior: smooth; /* Smooth scrolling for navigation */
        }
        /* Dark mode styles */
        html.dark body {
            background-color: #1A202C; /* Dark background */
            color: #E2E8F0; /* Light text */
        }

        .accent-color { color: #3B82F6; }
        .bg-accent-color { background-color: #3B82F6; }
        .border-accent-color { border-color: #3B82F6; }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
            border-bottom: 2px solid transparent;
        }
        .nav-link.active, .nav-link:hover {
            color: #3B82F6;
            border-bottom-color: #3B82F6;
        }
        /* Dark mode for nav links */
        html.dark .nav-link {
            color: #CBD5E0; /* Lighter text in dark mode */
        }
        html.dark .nav-link.active, html.dark .nav-link:hover {
            color: #3B82F6; /* Accent remains */
            border-bottom-color: #3B82F6;
        }

        .kpi-card {
            transition: transform 0.3s, box-shadow 0.3s;
            background-color: #FFFFFF; /* Light mode default */
        }
        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        /* Dark mode for KPI cards */
        html.dark .kpi-card {
            background-color: #2D3748; /* Darker background */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2), 0 2px 4px -1px rgba(0, 0, 0, 0.12);
        }

        .timeline-item-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.7s ease-in-out, padding 0.7s ease-in-out;
            padding-top: 0;
            padding-bottom: 0;
        }
        .timeline-item-content.open {
            max-height: 1000px; /* Sufficiently large to accommodate content */
            padding-top: 1rem;
            padding-bottom: 1rem;
        }
        .skill-tag {
            transition: background-color 0.3s, color 0.3s, transform 0.2s;
            cursor: pointer;
            background-color: #E5E7EB; /* Light mode default */
            color: #4B5563; /* Light mode default */
        }
        .skill-tag:hover {
            transform: scale(1.05);
        }
        .skill-tag.active {
            background-color: #3B82F6;
            color: white;
        }
        /* Dark mode for skill tags */
        html.dark .skill-tag {
            background-color: #4A5568; /* Darker background */
            color: #CBD5E0; /* Lighter text */
        }

        .bullet-point.highlight {
            background-color: #DBEAFE; /* Light mode default */
            border-left: 3px solid #3B82F6;
        }
        /* Dark mode for highlighted bullet points */
        html.dark .bullet-point.highlight {
            background-color: #3182CE; /* Darker blue for highlight */
            border-left-color: #3B82F6;
        }
        .bullet-point {
            transition: background-color 0.3s, border-left-color 0.3s;
            word-wrap: break-word; /* Ensure text wraps on small screens */
            overflow-wrap: break-word; /* Modern equivalent */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #3B82F6;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            display: none; /* Hidden by default */
            margin: 1rem auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .lang-button {
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            background-color: #E5E7EB; /* Light mode default */
            color: #4B5563; /* Light mode default */
            font-weight: 600;
            transition: background-color 0.2s, color 0.2s;
        }
        .lang-button.active {
            background-color: #3B82F6;
            color: white;
        }
        /* Dark mode for lang buttons */
        html.dark .lang-button {
            background-color: #4A5568; /* Darker background */
            color: #CBD5E0; /* Lighter text */
        }
        html.dark .lang-button.active {
            background-color: #3B82F6;
            color: white;
        }

        /* General dark mode adjustments for elements that were bg-white */
        .bg-white {
            background-color: #FFFFFF;
        }
        html.dark .bg-white {
            background-color: #2D3748;
        }
        .bg-blue-50 {
            background-color: #EFF6FF;
        }
        html.dark .bg-blue-50 {
            background-color: #1E3A8A; /* A darker blue for the explanation box */
        }
        .border-blue-200 {
            border-color: #BFDBFE;
        }
        html.dark .border-blue-200 {
            border-color: #1C3E6B; /* Darker border for the explanation box */
        }
        .text-gray-600 {
            color: #4B5563;
        }
        html.dark .text-gray-600 {
            color: #A0AEC0; /* Lighter gray for text */
        }
        .text-gray-500 {
            color: #6B7280;
        }
        html.dark .text-gray-500 {
            color: #718096; /* Even lighter gray */
        }
        .text-gray-700 {
            color: #374151;
        }
        html.dark .text-gray-700 {
            color: #CBD5E0; /* Lighter text */
        }
        .bg-white\/80 {
            background-color: rgba(255, 255, 255, 0.8);
        }
        html.dark .bg-white\/80 {
            background-color: rgba(26, 32, 44, 0.8); /* Dark header background */
        }
        .shadow-sm {
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        }
        html.dark .shadow-sm {
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);
        }
        .shadow-md {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        html.dark .shadow-md {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.25), 0 2px 4px -1px rgba(0, 0, 0, 0.15);
        }
        .bg-gray-300 {
            background-color: #D1D5DB;
        }
        html.dark .bg-gray-300 {
            background-color: #4A5568; /* Darker timeline line */
        }
        .text-gray-400 {
            color: #9CA3AF;
        }
        html.dark .text-gray-400 {
            color: #718096; /* Lighter toggle icon */
        }

        /* Responsive adjustments for smaller screens */
        @media (max-width: 768px) {
            .container {
                padding-left: 1rem;
                padding-right: 1rem;
            }
            .nav-list {
                flex-wrap: wrap; /* Allow nav items to wrap */
                gap: 0.5rem; /* Smaller gap on mobile */
                padding: 0 1rem;
            }
            .nav-item a {
                padding: 0.4rem 0.8rem;
                font-size: 0.9rem;
            }
            .kpi-card {
                padding: 1.5rem; /* Slightly less padding on mobile */
            }
            h1 { font-size: 1.75rem; }
            h2 { font-size: 1.5rem; }
            h3 { font-size: 1.1rem; }
            p, ul, li {
                font-size: 0.95rem; /* Slightly smaller text for readability */
            }
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-xl font-bold">Charles de Pirey</h1>
            <div class="flex items-center space-x-4">
                <div class="hidden md:flex space-x-8">
                    <a href="#overview" class="nav-link active" data-lang-key="nav_overview">Vue d'ensemble</a>
                    <a href="#experience" class="nav-link" data-lang-key="nav_career">Parcours</a>
                    <a href="#skills" class="nav-link" data-lang-key="nav_skills">Compétences</a>
                    <a href="#education" class="nav-link" data-lang-key="nav_education">Formation / Contact</a>
                </div>
                <div class="flex space-x-2">
                    <button id="lang-fr" class="lang-button active">FR</button>
                    <button id="lang-en" class="lang-button">EN</button>
                    <button id="theme-toggle" class="lang-button">🌙</button>
                </div>
            </div>
             <button id="mobile-menu-button" class="md:hidden text-2xl">☰</button>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden bg-white py-2">
            <a href="#overview" class="block text-center py-2 nav-link-mobile" data-lang-key="nav_overview">Vue d'ensemble</a>
            <a href="#experience" class="block text-center py-2 nav-link-mobile" data-lang-key="nav_career">Parcours</a>
            <a href="#skills" class="block text-center py-2 nav-link-mobile" data-lang-key="nav_skills">Compétences</a>
            <a href="#education" class="block text-center py-2 nav-link-mobile" data-lang-key="nav_education">Formation / Contact</a>
        </div>
    </header>

    <main class="container mx-auto px-6 py-12">

        <section id="overview" class="mb-16 scroll-mt-24">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-4" data-lang-key="overview_title">Cadre IT Stratégique et Innovant</h2>
                <p class="max-w-3xl mx-auto text-lg text-gray-600" data-lang-key="overview_subtitle">
                    J'excelle dans la conception et le déploiement de stratégies informatiques directement alignées sur les objectifs business, transformant les défis complexes en leviers de performance.
                </p>
            </div>

            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="kpi-card p-6 rounded-lg shadow-md text-center">
                    <div class="text-4xl font-bold accent-color">10+</div>
                    <p class="text-gray-600 mt-2" data-lang-key="kpi_years">Années d'expérience</p>
                </div>
                <div class="kpi-card p-6 rounded-lg shadow-md text-center">
                    <div class="text-4xl font-bold accent-color">15</div>
                    <p class="text-gray-600 mt-2" data-lang-key="kpi_managed">Personnes managées</p>
                </div>
                <div class="kpi-card p-6 rounded-lg shadow-md text-center">
                    <div class="text-4xl font-bold accent-color">100k€</div>
                    <p class="text-gray-600 mt-2" data-lang-key="kpi_saved">Économisés annuellement</p>
                </div>
                <div class="kpi-card p-6 rounded-lg shadow-md text-center">
                    <div class="text-4xl font-bold accent-color">+35%</div>
                    <p class="text-gray-600 mt-2" data-lang-key="kpi_engagement">Engagement Utilisateur</p>
                </div>
            </div>
        </section>

        <section id="experience" class="mb-16 scroll-mt-24">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-2" data-lang-key="experience_title">Parcours Professionnel</h2>
                <p class="text-lg text-gray-600" data-lang-key="experience_subtitle">Cliquez sur un poste pour découvrir les réalisations clés.</p>
                <button id="toggle-all-experience" class="mt-4 px-4 py-2 bg-accent-color text-white rounded-full hover:bg-blue-700 transition duration-300">
                    <span data-lang-key="toggle_all_open">Ouvrir tout</span>
                </button>
            </div>
            <div id="timeline-container" class="relative">
            </div>
        </section>

        <section id="skills" class="mb-16 scroll-mt-24">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-2" data-lang-key="skills_title">Compétences Clés</h2>
                <p class="text-lg text-gray-600" data-lang-key="skills_subtitle">Une vue d'ensemble de mes domaines d'expertise. Cliquez sur une compétence pour voir les projets associés.</p>
            </div>
            <div class="grid lg:grid-cols-2 gap-12 items-center">
                <div>
                    <h3 class="font-bold text-xl mb-6 text-center" data-lang-key="skills_expertise_areas">Domaines d'Expertise</h3>
                    <div class="chart-container">
                        <canvas id="skillsRadarChart"></canvas>
                    </div>
                </div>
                <div id="skills-tags-container">
                    <h3 class="font-bold text-xl mb-6 text-center" data-lang-key="skills_tech_methods">Technologies & Méthodologies</h3>
                    <div id="dynamic-skills-categories">
                        <!-- Skill categories will be dynamically inserted here -->
                    </div>
                </div>
            </div>
        </section>

        <section id="education" class="scroll-mt-24">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-2" data-lang-key="education_contact_title">Formation & Contact</h2>
            </div>
            <div class="grid md:grid-cols-2 gap-8">
                <div class="kpi-card p-8 rounded-lg shadow-md">
                    <h3 class="text-2xl font-bold mb-4" data-lang-key="education_title">Formation & Certifications</h3>
                    <div class="mb-4">
                        <p class="font-bold text-lg" data-lang-key="edu_master_title">Master en Information Technology</p>
                        <p class="text-gray-600" data-lang-key="edu_master_uni">Supinfo International University, London, UK</p>
                        <p class="text-sm text-gray-500" data-lang-key="edu_master_date">Diplômé: Avr. 2013</p>
                    </div>
                    <div>
                        <p class="font-bold text-lg" data-lang-key="edu_itil_title">ITIL Foundation</p>
                        <p class="text-gray-600" data-lang-key="edu_itil_uni">British Computer Society, London, UK</p>
                        <p class="text-sm text-gray-500" data-lang-key="edu_itil_date">Certifié: Juil. 2014</p>
                    </div>
                </div>
                <div class="kpi-card p-8 rounded-lg shadow-md">
                    <h3 class="text-2xl font-bold mb-4" data-lang-key="contact_title">Contact</h3>
                    <p class="mb-2"><strong>Email:</strong> <a href="mailto:charles.depirey@gmail.com" class="accent-color hover:underline">charles.depirey@gmail.com</a></p>
                    <p class="mb-2"><strong>Téléphone:</strong> +33 (0) 6 51 74 74 88</p>
                    <p><strong>LinkedIn:</strong> <a href="https://www.linkedin.com/in/charlesdepirey/" target="_blank" class="accent-color hover:underline" id="linkedin-link">linkedin.com/in/charlesdepirey</a></p>
                </div>
            </div>
        </section>

    </main>

    <footer class="text-center py-6 text-gray-500 text-sm">
        <p data-lang-key="footer_text">&copy; 2025 Charles de Pirey. CV Interactif conçu et développé avec soin.</p>
    </footer>

    <script>
        const translations = {
            fr: {
                nav_overview: "Vue d'ensemble",
                nav_career: "Parcours",
                nav_skills: "Compétences",
                nav_education: "Formation / Contact",
                overview_title: "Cadre IT Stratégique et Innovant",
                overview_subtitle: "J'excelle dans la conception et le déploiement de stratégies informatiques directement alignées sur les objectifs business, transformant les défis complexes en leviers de performance.",
                kpi_years: "Années d'expérience",
                kpi_managed: "Personnes managées",
                kpi_saved: "Économisés annuellement",
                kpi_engagement: "Engagement Utilisateur",
                experience_title: "Parcours Professionnel",
                experience_subtitle: "Cliquez sur un poste pour découvrir les réalisations clés.",
                toggle_all_open: "Ouvrir tout",
                toggle_all_close: "Fermer tout",
                skills_title: "Compétences Clés",
                skills_subtitle: "Une vue d'ensemble de mes domaines d'expertise. Cliquez sur une compétence pour voir les projets associés.",
                skills_expertise_areas: "Domaines d'Expertise",
                skills_tech_methods: "Technologies & Méthodologies",
                skill_importance: "Importance de la compétence",
                education_contact_title: "Formation & Contact",
                education_title: "Formation & Certifications",
                edu_master_title: "Master en Information Technology",
                edu_master_uni: "Supinfo International University, London, UK",
                edu_master_date: "Diplômé: Avr. 2013",
                edu_itil_title: "ITIL Foundation",
                edu_itil_uni: "British Computer Society, London, UK",
                edu_itil_date: "Certifié: Juil. 2014",
                contact_title: "Contact",
                footer_text: "&copy; 2025 Charles de Pirey. CV Interactif conçu et développé avec soin.",
                radar_labels: ['Stratégie & Vision', 'Management & Leadership', 'Architecture Technique', 'Innovation & Produit', 'Opérations & Sécurité'],
                winton_admin_role: "Administrateur IT Windows (Service Desk)",
                winton_engineer_role: "Ingénieur Système",
                winton_admin_period_fr: "Avr. 2013 – Déc. 2014",
                winton_engineer_period_fr: "Jan. 2015 – Juil. 2016",
                network_engineer_role: "Ingénieur Réseau",
                system_admin_role: "Administrateur Système",
                webmaster_role: "Webmaster",
                intern_role: "Stagiaire"
            },
            en: {
                nav_overview: "Overview",
                nav_career: "Career Path",
                nav_skills: "Skills",
                nav_education: "Education / Contact",
                overview_title: "Strategic and Innovative IT Executive",
                overview_subtitle: "I excel in designing and implementing IT strategies directly aligned with business objectives, transforming complex challenges into performance levers.",
                kpi_years: "Years of Experience",
                kpi_managed: "People Managed",
                kpi_saved: "Annual Savings",
                kpi_engagement: "User Engagement",
                experience_title: "Professional Experience",
                experience_subtitle: "Click on a position to discover key achievements.",
                toggle_all_open: "Open All",
                toggle_all_close: "Close All",
                skills_title: "Key Skills",
                skills_subtitle: "An overview of my areas of expertise. Click on a skill to see associated projects.",
                skills_expertise_areas: "Areas of Expertise",
                skills_tech_methods: "Technologies & Methodologies",
                skill_importance: "Skill Importance",
                education_contact_title: "Education & Contact",
                education_title: "Education & Certifications",
                edu_master_title: "Master in Information Technology",
                edu_master_uni: "Supinfo International University, London, UK",
                edu_master_date: "Graduated: Apr. 2013",
                edu_itil_title: "ITIL Foundation",
                edu_itil_uni: "British Computer Society, London, UK",
                edu_itil_date: "Certified: Jul. 2014",
                contact_title: "Contact",
                footer_text: "&copy; 2025 Charles de Pirey. Interactive CV designed and developed with care.",
                radar_labels: ['Strategy & Vision', 'Management & Leadership', 'Technical Architecture', 'Innovation & Product', 'Operations & Security'],
                winton_admin_role: "Windows IT Administrator (Service Desk)",
                winton_engineer_role: "System Engineer",
                winton_admin_period_en: "Apr. 2013 – Dec. 2014",
                winton_engineer_period_en: "Jan. 2015 – Jul. 2016",
                network_engineer_role: "Network Engineer",
                system_admin_role: "System Administrator",
                webmaster_role: "Webmaster",
                intern_role: "Intern"
            }
        };

        const cvData = {
            fr: {
                experience: [
                    {
                        role: "Co-Fondateur/CTO",
                        company: "CAD.42 Services",
                        period: "Oct. 2016 – Août 2025",
                        location: "Paris, France",
                        intro: "En tant que Co-Fondateur et CTO, j'ai piloté l'intégralité de la stratégie technologique et le développement produit, en bâtissant une organisation d'ingénierie agile et performante.",
                        details: {
                            "Management & Leadership": [
                                { text: "Constitué et dirigé une équipe d'ingénieurs hautement performante (jusqu'à 15 personnes), incluant des développeurs full-stack, des data scientists et des architectes.", tags: ["Management"] },
                                { text: "Doublé la productivité et l'efficacité opérationnelle de l'équipe grâce à la mise en place de méthodologies Agile (Scrum).", tags: ["Management", "Agile"] },
                                { text: "Défini et mis en œuvre la stratégie de recrutement et de rétention des talents techniques, réduisant le temps d'embauche de 30%.", tags: ["Management"] },
                                { text: "Géré les budgets technologiques (plusieurs centaines de milliers d'euros), optimisant les dépenses d'infrastructure et de licences.", tags: ["Management", "FinOps"] },
                                { text: "Optimisé les relations avec les fournisseurs stratégiques, générant une économie annuelle de 100k€.", tags: ["Management"] },
                            ],
                            "Leadership Projet & Innovation": [
                                { text: "Dirigé la conception et le déploiement de solutions data-driven pour des acteurs majeurs du BTP (Spie Batignolles, Vinci).", tags: ["Data & BI", "Projet"] },
                                { text: "Orchestré l'intégration stratégique d'outils de Business Intelligence basés sur l'IA.", tags: ["Data & BI", "IA"] },
                                { text: "Établi des standards rigoureux en assurance qualité et supervisé la livraison de projets dans le respect des délais et des budgets.", tags: ["Projet", "Agile"] },
                                { text: "Piloté le cycle de vie complet de plusieurs produits SaaS, de l'idéation à la mise en production.", tags: ["Projet"] },
                            ],
                            "Architecture & Stratégie Technique": [
                                { text: "Conçu et mis en œuvre une infrastructure de plateforme résiliente et scalable, basée sur des architectures microservices et des technologies cloud.", tags: ["Architecture", "Cloud", "DevOps"] },
                                { text: "Amélioré l'engagement utilisateur de 35% grâce à l'intégration d'insights décisionnels basés sur l'IA.", tags: ["IA", "Data & BI"] },
                                { text: "Défini et implémenté la feuille de route technologique et l'architecture cible, intégrant les principes DevOps, CI/CD et l'observabilité.", tags: ["Architecture", "DevOps"] },
                                { text: "Assuré la conformité des systèmes et des données aux réglementations en vigueur (RGPD, sécurité des données).", tags: ["Sécurité"] },
                            ]
                        }
                    },
                    {
                        role: "Senior System Engineer",
                        company: "Unigestion UK",
                        period: "Août 2016 – Juil. 2017",
                        location: "London, UK",
                        intro: "J'ai joué un rôle clé dans la modernisation de l'infrastructure IT, en mettant l'accent sur la sécurité, la performance et l'optimisation des coûts.",
                        details: {
                            "Projets & Déploiement": [
                                { text: "Déployé un outil de gestion des appareils mobiles (MDM) pour les smartphones d'entreprise.", tags: ["Systèmes", "Sécurité"] },
                                { text: "Instauré une solution d'infrastructure de bureau virtuel (VDI) pour plus de 300 utilisateurs.", tags: ["Systèmes", "Virtualisation"] },
                                { text: "Mené à bien un projet d'ordinateurs portables sécurisés avec une double authentification VPN.", tags: ["Sécurité", "Réseaux"] },
                                { text: "Implémenté et maintenu l'infrastructure ESXi et Citrix.", tags: ["Virtualisation", "Systèmes"] },
                            ],
                            "Optimisation & Sécurité": [
                                { text: "Renforcé les protocoles de sécurité, réduisant les violations de réseau de 40% en six mois.", tags: ["Sécurité"] },
                                { text: "Réduit les coûts initiaux des projets de 45% en effectuant des appels d'offres (RFPs) et des PoCs.", tags: ["Projet"] },
                                { text: "Optimisé la performance et la fiabilité des systèmes grâce à une gestion proactive des infrastructures virtualisées.", tags: ["Virtualisation"] },
                            ]
                        }
                    },
                    {
                        role: "System Engineer", // Combined role for display
                        company: "Winton Group",
                        period: "Avr. 2013 – Juil. 2016", // Combined period
                        location: "London, UK",
                        intro: "J'ai débuté ma carrière chez Winton Group en tant qu'Administrateur IT Windows, évoluant vers un rôle d'Ingénieur Système pour piloter l'automatisation et le support avancé.",
                        details: {
                            "Ingénieur Système (Jan. 2015 – Juil. 2016)": [ // Moved to top
                                { text: "Fourni un support de niveau 2 et 3, résolvant les incidents complexes et garantissant la continuité des activités.", tags: ["Support", "Systèmes"] },
                                { text: "Optimisé les processus de mise à niveau des postes de travail et serveurs, réduisant le temps de déploiement de 90% avec SCCM et PowerShell.", tags: ["Systèmes", "Automatisation"] },
                                { text: "Développé des scripts PowerShell pour automatiser le déploiement et les mises à jour des machines virtuelles.", tags: ["Automatisation", "Virtualisation"] },
                                { text: "Automatisé les processus d'intégration et de départ des employés.", tags: ["Automatisation"] },
                                { text: "Coordonné les installations matérielles pour l'ouverture de nouveaux bureaux (APAC, USA).", tags: ["Projet"] },
                                { text: "Mis en place un nouveau système de helpdesk (JIRA Service Desk) pour plus de 500 utilisateurs.", tags: ["Systèmes", "Projet"] },
                            ],
                            "Administrateur IT Windows (Avr. 2013 – Déc. 2014)": [ // Moved to bottom
                                { text: "Géré tous les tickets de niveau 1 pour plus de 500 utilisateurs.", tags: ["Systèmes", "Support"] },
                                { text: "Assuré le support des systèmes audiovisuels et le support VIP.", tags: ["Support"] },
                                { text: "Pris en charge le support des desks de trading et la résolution des problèmes liés aux claviers Bloomberg.", tags: ["Support"] },
                                { text: "Opéré dans un environnement VMWare VDI pour toutes ces tâches.", tags: ["Virtualisation", "Support"] },
                            ]
                        }
                    },
                    {
                        role: "Network Engineer",
                        company: "SUPINFO",
                        period: "2011 – Avr. 2013",
                        location: "London, United Kingdom",
                        intro: "En tant qu'Ingénieur Réseau, j'ai administré et optimisé l'infrastructure réseau interne, tout en assurant la sécurité.",
                        details: {
                            "Administration Réseau & Sécurité": [
                                { text: "Administration, optimisation et support d'une infrastructure interne LAN/WLAN/WAN.", tags: ["Réseaux", "Support"] },
                                { text: "Monitoring et support de la sécurité réseau interne avec la technologie Cisco ASA.", tags: ["Réseaux", "Sécurité", "Cisco ASA"] },
                            ]
                        }
                    },
                    {
                        role: "Administrateur Système",
                        company: "MO-SYS",
                        period: "Juil. 2011 – Nov. 2011",
                        location: "London, United Kingdom",
                        intro: "Chez MO-SYS, j'ai assuré le support des utilisateurs et la maintenance des systèmes, avec un accent sur la stabilité et la virtualisation.",
                        details: {
                            "Support & Maintenance Système": [
                                { text: "Support d'un bureau de plus de 25 utilisateurs.", tags: ["Support"] },
                                { text: "Gestion et maintenance d'un réseau Windows, assurant sa stabilité et son évolution.", tags: ["Systèmes", "Réseaux"] },
                                { text: "Test, monitoring et maintenance du système de sauvegarde.", tags: ["Systèmes", "Sécurité"] },
                                { text: "Construction et déploiement de PCs et serveurs.", tags: ["Systèmes"] },
                                { text: "Virtualisation utilisant ESXi, VSphere.", tags: ["Virtualisation"] },
                                { text: "Conduite d'audits internes.", tags: ["Sécurité"] },
                            ]
                        }
                    },
                    {
                        role: "Webmaster",
                        company: "TurfEditions",
                        period: "Juil. 2010 – Oct. 2010",
                        location: "Paris Area, France",
                        intro: "En tant que Webmaster, j'ai été en charge de la création et de la mise à jour d'un site web de paris en ligne.",
                        details: {
                            "Développement Web": [
                                { text: "Création du site web: www.leturf.fr, conçu pour les paris en ligne, principalement en PHP et Java.", tags: ["Développement Web", "PHP", "Java"] },
                                { text: "Création d'une interface en PHP pour publier en temps réel des options liées aux paris en ligne.", tags: ["Développement Web", "PHP"] },
                            ]
                        }
                    },
                    {
                        role: "Stagiaire",
                        company: "Microsoft",
                        period: "Juil. 2009 – Oct. 2009",
                        location: "France",
                        intro: "Mon stage chez Microsoft m'a permis de travailler sur le test d'applications et le support aux partenaires avant le lancement de Windows 7.",
                        details: {
                            "Contribution au Développement & Support": [
                                { text: "Test d'applications avant le lancement de Windows 7.", tags: ["Testing", "Windows"] },
                                { text: "Assistance à l'équipe ISV dans la gestion de leurs partenaires.", tags: ["Support"] },
                            ]
                        }
                    }
                ],
                skills: {
                    "Cloud Computing": ["Cloud Hybride", "Architecture Cloud-Native", "Docker", "Kubernetes", "Virtualisation", "ESXi", "VSphere"],
                    "DevOps/CloudOps": ["CI/CD", "GitLab CI", "IaC", "Terraform", "Ansible", "Observabilité", "FinOps", "GitHub"],
                    "Systèmes & Réseaux": ["Windows Server", "Active Directory", "SCCM", "PowerShell", "VDI", "MDM", "VPN", "Cisco ASA", "Réseaux"],
                    "Data & BI": ["Data-driven Solutions", "IA", "Business Intelligence"],
                    "Gestion & Méthodologies": ["Management", "Agile", "Scrum", "Projet", "Sécurité", "IT Project Management"],
                    "Scripting & Automatisation": ["PowerShell", "Python"],
                    "Support IT": ["Support", "Test", "Windows", "Office 365 Administration"]
                }
            },
            en: {
                experience: [
                    {
                        role: "Co-Founder/CTO",
                        company: "CAD.42 Services",
                        period: "Oct. 2016 – Aug. 2025",
                        location: "Paris, France",
                        intro: "As Co-Founder and CTO, I spearheaded the entire technology strategy and product development, building an agile and high-performing engineering organization.",
                        details: {
                            "Management & Leadership": [
                                { text: "Built and led a high-performing engineering team (up to 15 individuals), including full-stack developers, data scientists, and architects.", tags: ["Management"] },
                                { text: "Doubled the productivity and operational efficiency of the team by implementing Agile methodologies (Scrum).", tags: ["Management", "Agile"] },
                                { text: "Defined and executed the talent acquisition and retention strategy for technical roles, reducing hiring time by 30%.", tags: ["Management"] },
                                { text: "Managed technology budgets (several hundred thousand euros), optimizing infrastructure and licensing expenses.", tags: ["Management", "FinOps"] },
                                { text: "Optimized relationships with strategic vendors, generating annual savings of €100k.", tags: ["Management"] },
                            ],
                            "Project Leadership & Innovation": [
                                { text: "Led the design and deployment of data-driven solutions for industry giants like Spie Batignolles and Vinci.", tags: ["Data & BI", "Project"] },
                                { text: "Orchestrated the strategic integration of AI-powered Business Intelligence tools.", tags: ["Data & BI", "AI"] },
                                { text: "Established rigorous quality assurance standards and oversaw project delivery within budget and timeline constraints.", tags: ["Project", "Agile"] },
                                { text: "Managed the full lifecycle of multiple SaaS products, from ideation to production.", tags: ["Project"] },
                            ],
                            "Architecture & Technical Strategy": [
                                { text: "Designed and implemented a resilient and scalable platform infrastructure, based on microservices architectures and cloud technologies.", tags: ["Architecture", "Cloud", "DevOps"] },
                                { text: "Enhanced user engagement by 35% through the integration of AI-driven business intelligence insights.", tags: ["AI", "Data & BI"] },
                                { text: "Defined and implemented the technology roadmap and target architecture, integrating DevOps, CI/CD principles, and observability.", tags: ["Architecture", "DevOps"] },
                                { text: "Assured system and data compliance with relevant regulations (GDPR, data security).", tags: ["Security"] },
                            ]
                        }
                    },
                    {
                        role: "Senior System Engineer",
                        company: "Unigestion UK",
                        period: "Aug. 2016 – Jul. 2017",
                        location: "London, UK",
                        intro: "I played a key role in modernizing the IT infrastructure, focusing on security, performance, and cost optimization.",
                        details: {
                            "Projects & Deployment": [
                                { text: "Deployed a Mobile Device Management (MDM) tool for corporate smartphones.", tags: ["Systems", "Security"] },
                                { text: "Implemented a Virtual Desktop Infrastructure (VDI) solution for 300+ users.", tags: ["Systems", "Virtualization"] },
                                { text: "Successfully completed a secure laptop project with double VPN authentication.", tags: ["Security", "Networking"] },
                                { text: "Implemented and maintained ESXi and Citrix.", tags: ["Virtualization", "Systems"] },
                            ],
                            "Optimization & Security": [
                                { text: "Strengthened security protocols, reducing network breaches by 40% in six months.", tags: ["Security"] },
                                { text: "Reduced initial project costs by 45% through comprehensive RFPs and PoCs.", tags: ["Project"] },
                                { text: "Optimized system performance and reliability through proactive management of virtualized infrastructures.", tags: ["Virtualization"] },
                            ]
                        }
                    },
                    {
                        role: "System Engineer", // Combined role for display
                        company: "Winton Group",
                        period: "Apr. 2013 – Jul. 2016", // Combined period
                        location: "London, UK",
                        intro: "I began my career at Winton Group as a Windows IT Administrator, evolving into a System Engineer role to drive automation and advanced support.",
                        details: {
                            "System Engineer (Jan. 2015 – Jul. 2016)": [ // Moved to top
                                { text: "Provided L2 and L3 support, resolving complex incidents and ensuring business continuity.", tags: ["Support", "Systems"] },
                                { text: "Streamlined workstation and server upgrade processes, reducing deployment time by 90% with SCCM and PowerShell.", tags: ["Systems", "Automation"] },
                                { text: "Developed PowerShell scripts to automate VM deployment and updates.", tags: ["Automation", "Virtualization"] },
                                { text: "Automated employee onboarding and offboarding processes.", tags: ["Automation"] },
                                { text: "Coordinated hardware setups for new office openings (APAC, USA).", tags: ["Project"] },
                                { text: "Implemented a new helpdesk system (JIRA Service Desk) for over 500 users.", tags: ["Systems", "Project"] },
                            ],
                            "Windows IT Administrator (Apr. 2013 – Dec. 2014)": [ // Moved to bottom
                                { text: "Handled all L1 tickets for 500+ users.", tags: ["Systems", "Support"] },
                                { text: "Provided support for AV systems and VIP users.", tags: ["Support"] },
                                { text: "Managed trading desk support and resolved Bloomberg keyboard issues.", tags: ["Support"] },
                                { text: "Operated within a VMWare VDI environment for all these tasks.", tags: ["Virtualization", "Support"] },
                            ]
                        }
                    },
                    {
                        role: "Network Engineer",
                        company: "SUPINFO",
                        period: "2011 – Apr. 2013",
                        location: "London, United Kingdom",
                        intro: "As a Network Engineer, I administered and optimized the internal network infrastructure, while ensuring security.",
                        details: {
                            "Network Administration & Security": [
                                { text: "Administration, optimization, and support of an internal LAN/WLAN/WAN infrastructure.", tags: ["Networking", "Support"] },
                                { text: "Monitoring and support of internal network security with Cisco ASA technology.", tags: ["Networking", "Security", "Cisco ASA"] },
                            ]
                        }
                    },
                    {
                        role: "System Administrator",
                        company: "MO-SYS",
                        period: "Jul. 2011 – Nov. 2011",
                        location: "London, United Kingdom",
                        intro: "At MO-SYS, I provided user support and system maintenance, with a focus on stability and virtualization.",
                        details: {
                            "System Support & Maintenance": [
                                { text: "Supported an office of 25+ users.", tags: ["Support"] },
                                { text: "Managed and maintained a Windows network, ensuring its stability and evolution.", tags: ["Systems", "Networking"] },
                                { text: "Tested, monitored, and maintained the backup system.", tags: ["Systems", "Security"] },
                                { text: "Built and deployed PCs and servers.", tags: ["Systems"] },
                                { text: "Virtualization using ESXi, VSphere.", tags: ["Virtualization"] },
                                { text: "Conducted internal audits.", tags: ["Security"] },
                            ]
                        }
                    },
                    {
                        role: "Webmaster",
                        company: "TurfEditions",
                        period: "Jul. 2010 – Oct. 2010",
                        location: "Paris Area, France",
                        intro: "As a Webmaster, I was responsible for the creation and updates of an online betting website.",
                        details: {
                            "Web Development": [
                                { text: "Created the website: www.leturf.fr, designed for online betting, primarily using PHP and Java.", tags: ["Web Development", "PHP", "Java"] },
                                { text: "Created a PHP interface to publish real-time options related to online betting.", tags: ["Web Development", "PHP"] },
                            ]
                        }
                    },
                    {
                        role: "Intern",
                        company: "Microsoft",
                        period: "Jul. 2009 – Oct. 2009",
                        location: "France",
                        intro: "My internship at Microsoft involved testing applications and supporting partners before the launch of Windows 7.",
                        details: {
                            "Development Contribution & Support": [
                                { text: "Tested applications before the launch of Windows 7.", tags: ["Testing", "Windows"] },
                                { text: "Assisted the ISV team in managing their partners.", tags: ["Support"] },
                            ]
                        }
                    }
                ],
                skills: {
                    "Cloud Computing": ["Cloud Hybride", "Architecture Cloud-Native", "Docker", "Kubernetes", "Virtualisation", "ESXi", "VSphere"],
                    "DevOps/CloudOps": ["CI/CD", "GitLab CI", "IaC", "Terraform", "Ansible", "Observabilité", "FinOps", "GitHub"],
                    "Systèmes & Réseaux": ["Windows Server", "Active Directory", "SCCM", "PowerShell", "VDI", "MDM", "VPN", "Cisco ASA", "Réseaux"],
                    "Data & BI": ["Data-driven Solutions", "IA", "Business Intelligence"],
                    "Gestion & Méthodologies": ["Management", "Agile", "Scrum", "Projet", "Sécurité", "IT Project Management"],
                    "Scripting & Automatisation": ["PowerShell", "Python"],
                    "Support IT": ["Support", "Test", "Windows", "Office 365 Administration"]
                }
            },
            en: {
                experience: [
                    {
                        role: "Co-Founder/CTO",
                        company: "CAD.42 Services",
                        period: "Oct. 2016 – Aug. 2025",
                        location: "Paris, France",
                        intro: "As Co-Founder and CTO, I spearheaded the entire technology strategy and product development, building an agile and high-performing engineering organization.",
                        details: {
                            "Management & Leadership": [
                                { text: "Built and led a high-performing engineering team (up to 15 individuals), including full-stack developers, data scientists, and architects.", tags: ["Management"] },
                                { text: "Doubled the productivity and operational efficiency of the team by implementing Agile methodologies (Scrum).", tags: ["Management", "Agile"] },
                                { text: "Defined and executed the talent acquisition and retention strategy for technical roles, reducing hiring time by 30%.", tags: ["Management"] },
                                { text: "Managed technology budgets (several hundred thousand euros), optimizing infrastructure and licensing expenses.", tags: ["Management", "FinOps"] },
                                { text: "Optimized relationships with strategic vendors, generating annual savings of €100k.", tags: ["Management"] },
                            ],
                            "Project Leadership & Innovation": [
                                { text: "Led the design and deployment of data-driven solutions for industry giants like Spie Batignolles and Vinci.", tags: ["Data & BI", "Project"] },
                                { text: "Orchestrated the strategic integration of AI-powered Business Intelligence tools.", tags: ["Data & BI", "AI"] },
                                { text: "Established rigorous quality assurance standards and oversaw project delivery within budget and timeline constraints.", tags: ["Project", "Agile"] },
                                { text: "Managed the full lifecycle of multiple SaaS products, from ideation to production.", tags: ["Project"] },
                            ],
                            "Architecture & Technical Strategy": [
                                { text: "Designed and implemented a resilient and scalable platform infrastructure, based on microservices architectures and cloud technologies.", tags: ["Architecture", "Cloud", "DevOps"] },
                                { text: "Enhanced user engagement by 35% through the integration of AI-driven business intelligence insights.", tags: ["AI", "Data & BI"] },
                                { text: "Defined and implemented the technology roadmap and target architecture, integrating DevOps, CI/CD principles, and observability.", tags: ["Architecture", "DevOps"] },
                                { text: "Assured system and data compliance with relevant regulations (GDPR, data security).", tags: ["Security"] },
                            ]
                        }
                    },
                    {
                        role: "Senior System Engineer",
                        company: "Unigestion UK",
                        period: "Aug. 2016 – Jul. 2017",
                        location: "London, UK",
                        intro: "I played a key role in modernizing the IT infrastructure, focusing on security, performance, and cost optimization.",
                        details: {
                            "Projects & Deployment": [
                                { text: "Deployed a Mobile Device Management (MDM) tool for corporate smartphones.", tags: ["Systems", "Security"] },
                                { text: "Implemented a Virtual Desktop Infrastructure (VDI) solution for 300+ users.", tags: ["Systems", "Virtualization"] },
                                { text: "Successfully completed a secure laptop project with double VPN authentication.", tags: ["Security", "Networking"] },
                                { text: "Implemented and maintained ESXi and Citrix.", tags: ["Virtualization", "Systems"] },
                            ],
                            "Optimization & Security": [
                                { text: "Strengthened security protocols, reducing network breaches by 40% in six months.", tags: ["Security"] },
                                { text: "Reduced initial project costs by 45% through comprehensive RFPs and PoCs.", tags: ["Project"] },
                                { text: "Optimized system performance and reliability through proactive management of virtualized infrastructures.", tags: ["Virtualization"] },
                            ]
                        }
                    },
                    {
                        role: "System Engineer", // Combined role for display
                        company: "Winton Group",
                        period: "Apr. 2013 – Jul. 2016", // Combined period
                        location: "London, UK",
                        intro: "I began my career at Winton Group as a Windows IT Administrator, evolving into a System Engineer role to drive automation and advanced support.",
                        details: {
                            "System Engineer (Jan. 2015 – Jul. 2016)": [ // Moved to top
                                { text: "Provided L2 and L3 support, resolving complex incidents and ensuring business continuity.", tags: ["Support", "Systems"] },
                                { text: "Streamlined workstation and server upgrade processes, reducing deployment time by 90% with SCCM and PowerShell.", tags: ["Systems", "Automation"] },
                                { text: "Developed PowerShell scripts to automate VM deployment and updates.", tags: ["Automation", "Virtualization"] },
                                { text: "Automated employee onboarding and offboarding processes.", tags: ["Automation"] },
                                { text: "Coordinated hardware setups for new office openings (APAC, USA).", tags: ["Project"] },
                                { text: "Implemented a new helpdesk system (JIRA Service Desk) for over 500 users.", tags: ["Systems", "Project"] },
                            ],
                            "Windows IT Administrator (Apr. 2013 – Dec. 2014)": [ // Moved to bottom
                                { text: "Handled all L1 tickets for 500+ users.", tags: ["Systems", "Support"] },
                                { text: "Provided support for AV systems and VIP users.", tags: ["Support"] },
                                { text: "Managed trading desk support and resolved Bloomberg keyboard issues.", tags: ["Support"] },
                                { text: "Operated within a VMWare VDI environment for all these tasks.", tags: ["Virtualization", "Support"] },
                            ]
                        }
                    },
                    {
                        role: "Network Engineer",
                        company: "SUPINFO",
                        period: "2011 – Apr. 2013",
                        location: "London, United Kingdom",
                        intro: "As a Network Engineer, I administered and optimized the internal network infrastructure, while ensuring security.",
                        details: {
                            "Network Administration & Security": [
                                { text: "Administration, optimization, and support of an internal LAN/WLAN/WAN infrastructure.", tags: ["Networking", "Support"] },
                                { text: "Monitoring and support of internal network security with Cisco ASA technology.", tags: ["Networking", "Security", "Cisco ASA"] },
                            ]
                        }
                    },
                    {
                        role: "System Administrator",
                        company: "MO-SYS",
                        period: "Jul. 2011 – Nov. 2011",
                        location: "London, United Kingdom",
                        intro: "At MO-SYS, I provided user support and system maintenance, with a focus on stability and virtualization.",
                        details: {
                            "System Support & Maintenance": [
                                { text: "Supported an office of 25+ users.", tags: ["Support"] },
                                { text: "Managed and maintained a Windows network, ensuring its stability and evolution.", tags: ["Systems", "Networking"] },
                                { text: "Tested, monitored, and maintained the backup system.", tags: ["Systems", "Security"] },
                                { text: "Built and deployed PCs and servers.", tags: ["Systems"] },
                                { text: "Virtualization using ESXi, VSphere.", tags: ["Virtualization"] },
                                { text: "Conducted internal audits.", tags: ["Security"] },
                            ]
                        }
                    },
                    {
                        role: "Webmaster",
                        company: "TurfEditions",
                        period: "Jul. 2010 – Oct. 2010",
                        location: "Paris Area, France",
                        intro: "As a Webmaster, I was responsible for the creation and updates of an online betting website.",
                        details: {
                            "Web Development": [
                                { text: "Created the website: www.leturf.fr, designed for online betting, primarily using PHP and Java.", tags: ["Web Development", "PHP", "Java"] },
                                { text: "Created a PHP interface to publish real-time options related to online betting.", tags: ["Web Development", "PHP"] },
                            ]
                        }
                    },
                    {
                        role: "Intern",
                        company: "Microsoft",
                        period: "Jul. 2009 – Oct. 2009",
                        location: "France",
                        intro: "My internship at Microsoft involved testing applications and supporting partners before the launch of Windows 7.",
                        details: {
                            "Development Contribution & Support": [
                                { text: "Tested applications before the launch of Windows 7.", tags: ["Testing", "Windows"] },
                                { text: "Assisted the ISV team in managing their partners.", tags: ["Support"] },
                            ]
                        }
                    }
                ],
                skills: {
                    "Cloud Computing": ["Hybrid Cloud", "Cloud-Native Architecture", "Docker", "Kubernetes", "Virtualization", "ESXi", "VSphere"],
                    "DevOps/CloudOps": ["CI/CD", "GitLab CI", "IaC", "Terraform", "Ansible", "Observability", "FinOps", "GitHub"],
                    "Systèmes & Réseaux": ["Windows Server", "Active Directory", "SCCM", "PowerShell", "VDI", "MDM", "VPN", "Cisco ASA", "Réseaux"],
                    "Data & BI": ["Data-driven Solutions", "IA", "Business Intelligence"],
                    "Gestion & Méthodologies": ["Management", "Agile", "Scrum", "Projet", "Sécurité", "IT Project Management"],
                    "Scripting & Automatisation": ["PowerShell", "Python"],
                    "Support IT": ["Support", "Test", "Windows", "Office 365 Administration"]
                }
            }
        };

        let currentLanguage = 'fr';
        let skillsRadarChartInstance = null; // To store the Chart.js instance

        // Declare global variables for elements
        let timelineContainer;
        let skillsTagsContainer;
        let dynamicSkillsCategories; // New global variable for the dynamic skills container
        let themeToggle; // New global variable for theme toggle
        let toggleAllExperienceButton; // New global variable for toggle all button

        function updateContentLanguage() {
            document.querySelectorAll('[data-lang-key]').forEach(element => {
                const key = element.dataset.langKey;
                if (translations[currentLanguage][key]) {
                    element.textContent = translations[currentLanguage][key];
                }
            });
            // Update chart labels
            if (skillsRadarChartInstance) {
                skillsRadarChartInstance.data.labels = translations[currentLanguage].radar_labels;
                skillsRadarChartInstance.update();
            }
            // Re-render dynamic content (timeline and skills tags)
            createTimeline(currentLanguage);
            createSkillsTags(currentLanguage);
            // Update toggle all button text
            const allContents = document.querySelectorAll('.timeline-item-content');
            const isOpen = allContents.length > 0 && allContents[0].classList.contains('open');
            toggleAllExperienceButton.textContent = isOpen ? translations[currentLanguage].toggle_all_close : translations[currentLanguage].toggle_all_open;
        }

        function createTimeline(lang) {
            const data = cvData[lang].experience;
            let timelineHTML = '';
            data.forEach((job, index) => {
                timelineHTML += `
                    <div class="timeline-item mb-8 flex items-start">
                        <div class="flex flex-col items-center mr-6">
                            <button class="timeline-dot bg-white border-2 border-accent-color rounded-full w-6 h-6 flex items-center justify-center focus:outline-none" data-index="${index}">
                                <span class="dot-inner bg-accent-color rounded-full w-3 h-3 block transition-transform transform scale-0"></span>
                            </button>
                            ${index < data.length - 1 ? '<div class="w-px h-full bg-gray-300 mt-2"></div>' : ''}
                        </div>
                        <div class="bg-white rounded-lg shadow-md p-6 w-full">
                            <div class="cursor-pointer timeline-header" data-index="${index}">
                                <div class="flex justify-between items-start">
                                    <div>
                                        <h3 class="text-xl font-bold">${job.role}</h3>
                                        <p class="font-semibold accent-color">${job.company}</p>
                                        <p class="text-sm text-gray-500">${job.period} - ${job.location}</p>
                                    </div>
                                    <span class="text-2xl text-gray-400 toggle-icon">+</span>
                                </div>
                            </div>
                            <div class="timeline-item-content">
                                <p class="italic text-gray-600 my-4">${job.intro}</p>
                                ${Object.keys(job.details).map(category => `
                                    <div class="mt-4">
                                        <h4 class="font-bold text-md mb-2">${category}</h4>
                                        <ul class="list-disc list-inside space-y-2">
                                            ${job.details[category].map(detail => `
                                                <li class="bullet-point pl-2" data-tags="${detail.tags.join(',')}">${detail.text}</li>
                                            `).join('')}
                                        </ul>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                `;
            });
            timelineContainer.innerHTML = timelineHTML;
        }

        function createSkillsTags(lang) {
            const data = cvData[lang].skills;
            dynamicSkillsCategories.innerHTML = ''; // Clear only the dynamic content
            Object.keys(data).forEach(category => {
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'mb-6';
                let tagsHTML = `<h4 class="font-bold text-md mb-3">${category}</h4><div class="flex flex-wrap gap-2">`;
                data[category].forEach(skill => {
                    tagsHTML += `<span class="skill-tag bg-gray-200 text-gray-700 px-3 py-1 rounded-full text-sm">${skill}</span>`;
                });
                tagsHTML += '</div>';
                categoryDiv.innerHTML = tagsHTML;
                dynamicSkillsCategories.appendChild(categoryDiv); // Append to the dynamic container
            });
        }

        function createRadarChart() {
            const ctx = document.getElementById('skillsRadarChart').getContext('2d');
            if (skillsRadarChartInstance) {
                skillsRadarChartInstance.destroy(); // Destroy existing chart before creating a new one
            }
            skillsRadarChartInstance = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: translations[currentLanguage].radar_labels,
                    datasets: [{
                        label: translations[currentLanguage].skills_expertise_areas,
                        data: [9, 9, 8, 8, 7],
                        backgroundColor: 'rgba(59, 130, 246, 0.2)',
                        borderColor: 'rgba(59, 130, 246, 1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(59, 130, 246, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(59, 130, 246, 1)'
                    }]
                },
                options: {
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: { color: 'rgba(0, 0, 0, 0.1)' },
                            grid: { color: 'rgba(0, 0, 0, 0.1)' },
                            pointLabels: { font: { size: 12 } },
                            suggestedMin: 0,
                            suggestedMax: 10,
                            ticks: {
                                stepSize: 2,
                                backdropColor: 'transparent'
                            }
                        }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        }

        // Function to set the theme
        function setTheme(theme) {
            document.documentElement.classList.remove('light', 'dark');
            document.documentElement.classList.add(theme);
            localStorage.setItem('theme', theme);
            themeToggle.textContent = theme === 'dark' ? '☀️' : '🌙'; // Update button icon
        }

        document.addEventListener('DOMContentLoaded', () => {
            // Assign global variables to elements after DOM is loaded
            timelineContainer = document.getElementById('timeline-container');
            skillsTagsContainer = document.getElementById('skills-tags-container');
            dynamicSkillsCategories = document.getElementById('dynamic-skills-categories'); // Assign the new dynamic container
            themeToggle = document.getElementById('theme-toggle'); // Assign theme toggle button
            toggleAllExperienceButton = document.getElementById('toggle-all-experience'); // Assign toggle all button

            // Initialize content with default language (FR)
            updateContentLanguage();
            createRadarChart(); // Create chart initially with FR labels

            // Set initial theme based on localStorage or system preference
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                setTheme(savedTheme);
            } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                setTheme('dark');
            } else {
                setTheme('light');
            }

            document.getElementById('lang-fr').addEventListener('click', () => {
                currentLanguage = 'fr';
                document.getElementById('lang-fr').classList.add('active');
                document.getElementById('lang-en').classList.remove('active');
                updateContentLanguage();
            });

            document.getElementById('lang-en').addEventListener('click', () => {
                currentLanguage = 'en';
                document.getElementById('lang-en').classList.add('active');
                document.getElementById('lang-fr').classList.remove('active');
                updateContentLanguage();
            });

            // Theme toggle event listener
            themeToggle.addEventListener('click', () => {
                const currentTheme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
                setTheme(currentTheme === 'light' ? 'dark' : 'light');
            });

            // Toggle individual experience item
            timelineContainer.addEventListener('click', (e) => {
                const clickedElement = e.target.closest('.timeline-header, .timeline-dot');
                if (clickedElement) {
                    const timelineItem = clickedElement.closest('.timeline-item');
                    if (!timelineItem) return;

                    const content = timelineItem.querySelector('.timeline-item-content');
                    const toggleIcon = timelineItem.querySelector('.toggle-icon');
                    const dotInner = timelineItem.querySelector('.dot-inner');

                    if (!content || !toggleIcon || !dotInner) {
                        console.error("Could not find content, toggleIcon or dotInner within the timeline item.");
                        return;
                    }

                    const isOpen = content.classList.contains('open');

                    // Close all other open items when one is clicked
                    document.querySelectorAll('.timeline-item-content.open').forEach(c => c.classList.remove('open'));
                    document.querySelectorAll('.dot-inner').forEach(d => d.classList.add('scale-0'));
                    document.querySelectorAll('.toggle-icon').forEach(i => i.textContent = '+');

                    if (!isOpen) {
                        content.classList.add('open');
                        dotInner.classList.remove('scale-0');
                        toggleIcon.textContent = '-';
                    }
                    // Reset "Ouvrir tout" / "Fermer tout" button state
                    toggleAllExperienceButton.textContent = translations[currentLanguage].toggle_all_open;
                }
            });

            // Toggle all experience items
            toggleAllExperienceButton.addEventListener('click', () => {
                const allContents = document.querySelectorAll('.timeline-item-content');
                const allDots = document.querySelectorAll('.dot-inner');
                const allIcons = document.querySelectorAll('.toggle-icon');

                const isAnyOpen = Array.from(allContents).some(c => c.classList.contains('open'));

                if (isAnyOpen) {
                    // If any are open, close all
                    allContents.forEach(c => c.classList.remove('open'));
                    allDots.forEach(d => d.classList.add('scale-0'));
                    allIcons.forEach(i => i.textContent = '+');
                    toggleAllExperienceButton.textContent = translations[currentLanguage].toggle_all_open;
                } else {
                    // If none are open, open all
                    allContents.forEach(c => c.classList.add('open'));
                    allDots.forEach(d => d.classList.remove('scale-0'));
                    allIcons.forEach(i => i.textContent = '-');
                    toggleAllExperienceButton.textContent = translations[currentLanguage].toggle_all_close;
                }
            });


            let activeSkill = null;
            skillsTagsContainer.addEventListener('click', (e) => {
                if (e.target.classList.contains('skill-tag')) {
                    const skill = e.target.textContent;
                    const allTags = document.querySelectorAll('.skill-tag');
                    const allBullets = document.querySelectorAll('.bullet-point');

                    if (activeSkill === skill) {
                        e.target.classList.remove('active');
                        allBullets.forEach(b => b.classList.remove('highlight'));
                        activeSkill = null;
                    } else {
                        allTags.forEach(t => t.classList.remove('active'));
                        e.target.classList.add('active');
                        activeSkill = skill;
                        
                        allBullets.forEach(bullet => {
                            const tags = bullet.dataset.tags.split(',');
                            if (tags.map(t => t.trim()).includes(skill)) {
                                bullet.classList.add('highlight');
                            } else {
                                bullet.classList.remove('highlight');
                            }
                        });
                    }
                }
            });
            
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
            
            document.querySelectorAll('.nav-link-mobile').forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenu.classList.add('hidden');
                });
            });

            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('main > section');

            // Intersection Observer for navigation highlighting
            const observerOptions = {
                root: null, // viewport as the root
                // Adjust rootMargin: This defines the area where intersection is detected.
                // '-10% 0px -80% 0px' means:
                // - Top 10% of the viewport is ignored.
                // - Bottom 80% of the viewport is ignored.
                // This makes the active section the one whose top is visible in the remaining 70% of the viewport,
                // effectively highlighting the section that is currently "at the top" of the screen.
                rootMargin: '-10% 0px -80% 0px',
                threshold: 0 // As soon as any part of the section is visible
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    const id = entry.target.id;
                    const navLink = document.querySelector(`.nav-list a[href="#${id}"]`);

                    if (navLink) {
                        if (entry.isIntersecting) {
                            // Remove active class from all links first
                            navLinks.forEach(link => link.classList.remove('active'));
                            // Then add active class to the current section's link
                            navLink.classList.add('active');
                        }
                    }
                });
            }, observerOptions);

            // Observe each section
            sections.forEach(section => {
                observer.observe(section);
            });

            // Set initial active state on page load (defaults to 'Overview' if at the top)
            // This handles cases where the page loads and no section is yet intersecting based on rootMargin.
            const firstSectionLink = document.querySelector('.nav-list a[href="#overview"]');
            if (firstSectionLink) {
                firstSectionLink.classList.add('active');
            }

            // --- Smooth scrolling for nav links (desktop and mobile) ---
            document.querySelectorAll('.nav-link, .nav-link-mobile').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault(); // Prevent default jump
                    const targetId = this.getAttribute('href').substring(1);
                    const targetSection = document.getElementById(targetId);
                    if (targetSection) {
                        // Scroll to the target section, offset by the nav bar height
                        const navHeight = document.querySelector('header').offsetHeight; // Get header height
                        const targetPosition = targetSection.getBoundingClientRect().top + window.scrollY - navHeight;
                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        });

    </script>
</body>
</html>
